language: c++
sudo: required
dist: trusty

#before_install:
#    - sudo apt-get update -qq
#    - sudo apt-get install -qq cmake qt5-default qt5-qmake qtbase5-dev qtdeclarative5-dev libqt5webkit5-dev qt5-dev-tools libsqlite3-dev libraw-dev

before_install:
  - sudo add-apt-repository -y ppa:beineri/opt-qt591-trusty
  - sudo apt-get update -qq
  - sudo apt-get install qt59-meta-full cmake libraw-dev
  - QTDIR="/opt/qt591"
  - PATH="$QTDIR/bin:$PATH"
  - source /opt/qt591/bin/qt59-env.sh
  - qmake -v

script:
  cd build/cmake/unix
  mkdir build
  cd build
  cmake -DCMAKE_BUILD_TYPE=Release ../../
  make
